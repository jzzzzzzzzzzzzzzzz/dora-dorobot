nodes:
  - id: camera_top
    path: ../../components/camera_opencv/main.py
    inputs:
      tick: dora/timer/millis/33
    outputs:
      - image
    env:
      CAPTURE_PATH: 1
      IMAGE_WIDTH: 640
      IMAGE_HEIGHT: 480

  - id: camera_wrist
    path: ../../components/camera_opencv/main.py
    inputs:
      tick: dora/timer/millis/33
    outputs:
      - image
    env:
      CAPTURE_PATH: 2
      IMAGE_WIDTH: 640
      IMAGE_HEIGHT: 480

  - id: arm_so101_follower
    path: ../../components/arm_normal_so101_v1/main.py
    inputs:
      get_joint: dora/timer/millis/33
      action_joint: simple_action/action
      reset: simple_action/reset
    outputs:
      - joint
    env:
      GET_DEVICE_FROM: PORT
      PORT: /dev/ttyACM4
      ARM_NAME: SO101-follower
      ARM_ROLE: follower
      CALIBRATION_DIR: ../../components/arm_normal_so101_v1/.calibration/

  - id: simple_action
    path: /data/dora/DoRobot-Preview/operating_platform/robot/components/inference_action/main_simple_act.py
    inputs:
      tick: dora/timer/millis/200
      image_top: camera_top/image
      image_wrist: camera_wrist/image
      joint: arm_so101_follower/joint
    outputs:
      - action
      - reset
    env:
      MODEL_PATH: /data/dora/act_dorobot/pretrained_model
      DEVICE: auto
      USE_REAL_MODEL: true
      MAX_RUNTIME: 60
